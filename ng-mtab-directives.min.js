"use strict";!function(s){var n=s.module("educ.ngMtabDirectives",[]);n.directive("opdQcm",function(){return{templateUrl:"mtab/opd/qcm.html",replace:!0,restrict:"A",scope:{qcm:"=opd",onAnswer:"=",showDebug:"=",showQuestion:"=",showAnswers:"=",showExplain:"=",highlightIndex:"=",answerIndex:"=",answerScore:"=",commentHtml:"="},link:function(s,n){function e(n){s.withAnswer=null===n||isNaN(n)?!1:!0}function a(n){if(null===n||isNaN(n))delete s.scoreHtml;else{n=parseFloat(n),n==parseInt(n)&&(n=parseInt(n));var e=[];e.push(n>0?"+"+n:n),e.push(Math.abs(n)>1?"pts":"pt"),s.scoreHtml=e.join("&nbsp;")}}s.$watch("answerIndex",e),s.$watch("answerScore",a)}}}),n.run(["$templateCache",function(s){s.put("mtab/opd/qcm.html",'<div class="opd opd-qcm" data-ng-class="{\'with-answer\':withAnswer}" data-opd-id="qcm.opdId"><div data-ng-if="showDebug">showQuestion:{{showQuestion|json}}<br>showAnswers:{{showAnswers|json}}<br>showExplain:{{showExplain|json}}<br>withAnswer:{{withAnswer|json}}<br>answerIndex:{{answerIndex|json}}<br>answerScore:{{answerScore|json}}<br>commentHtml:{{commentHtml|json}}<br>scoreHtml:{{scoreHtml|json}}</div><div data-ng-if="showQuestion"><div class="question text-center" data-ng-html="qcm.question.html"></div></div><div class="answers" data-ng-if="showAnswers"><ul class="propositions"><li data-ng-repeat="answer in qcm.answers"class="answer" data-ng-class="{\'answer-highlight\':answer.indexInOpd===highlightIndex, \'answer-true\':withAnswer&&answer.isJuste, \'answer-false\':withAnswer&&!answer.isJuste, \'answer-clicked\':withAnswer&&answer.indexInOpd===answerIndex}" data-ng-click="onAnswer(answer)"><span class="pull-right answer-comment-container" data-ng-if="(scoreHtml || commentHtml) && withAnswer&&answer.indexInOpd===answerIndex"><span data-ng-if="scoreHtml" class="badge" data-ng-class="answer.isJuste ? \'badge-win\': \'badge-loose\'"><i class="fa" data-ng-class="answer.isJuste ? \'fa-smile-o\' : \'fa-frown-o\'"></i><span data-ng-html="scoreHtml"></span></span><span class="answer-comment" data-ng-html="commentHtml"></span></span><span data-ng-html="answer.html"></span></li></ul></div><div class="explain" data-ng-if="showExplain"><h3>Rappel de cours</h3><div data-ng-html="qcm.explain.html"></div></div></div>')}])}(angular);