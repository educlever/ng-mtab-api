<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ng MTAB Api DÃ©mo</title>
    <link rel="stylesheet" href="../opd.css" type="text/css"/>
    <link rel="stylesheet" href="bower_components/boot/dist/css/bootstrap.min.css" type="text/css"/>
</head>
<body data-ng-app="demoApp" data-ng-controller="demoCtrl">
<div class="container">
    <div data-ng-include="'views/mtab.html'"></div>
</div>
<script src="bower_components/angular/angular.min.js"></script>
<script src="bower_components/ng-storage/ng-storage.min.js"></script>
<script src="bower_components/ng-jsonrpc/ng-jsonrpc.min.js"></script>
<script src="../ng-mtab-api.js"></script>
<script src="../ng-mtab-directives.js"></script>
<script>
    var app = angular.module("demoApp", [
        "educ.ngStorage",
        "educ.ngJsonRpc",
        "educ.ngMtabApi"
    ]);

    app.config(["MtabApiProvider", function (MtabApiProvider) {
        MtabApiProvider.setPersistent(true);
        MtabApiProvider.useCache(true);
        MtabApiProvider.setUrl("http://www.maxicours.com/W/rpc/mobilite/mtab.php");
    }]);

    app.controller("demoCtrl", ["$scope", "MtabApi", function ($scope, MtabApi) {
        $scope.mtab = MtabApi;

        var end = new Date();
        var begin = new Date(end - 24 * 3600 * 1000);
        $scope.dateBegin = MtabApi.dateToSqlDatetime(begin);
        $scope.dateEnd = MtabApi.dateToSqlDatetime(end);

    }]);
</script>
</body>
</html>